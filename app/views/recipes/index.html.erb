<% left_content = capture do %>
  <h2 class="mb-3">Your saved recipes</h2>

  <div class="overflow-y-auto flex-grow-1" style="min-height: 0; max-height: 100%;">
    <% if @recipes.any? %>
      <div class="row g-3">
        <% @recipes.each do |recipe| %>
          <div class="col-12 col-md-6 col-lg-4">
            <div class="card h-100">
              <div class="card-body d-flex flex-column">
                <%= link_to recipe_path(recipe),
                            class: "text-decoration-none text-dark mb-2",
                            data: { turbo_prefetch: false } do %>

                  <h3 class="h5 mb-1"><%= recipe.title || "Untitled Recipe" %></h3>

                  <% if recipe.description.present? && recipe.description != "Nothing here yet..." %>
                    <p class="text-muted mb-1"><%= recipe.description %></p>
                  <% end %>

                  <p class="text-muted small mb-0">
                    Created: <%= recipe.created_at.strftime("%B %d, %Y") %>
                  </p>

                <% end %>
              </div>

              <div class="card-footer d-flex justify-content-end gap-3">

                <%= render "recipes/favorite_button", recipe: recipe %>

                <%= button_to recipe_path(recipe),
                              method: :delete,
                              data: { turbo_confirm: "Delete this recipe?" },
                              class: "btn p-0 border-0 bg-transparent",
                              form_class: "d-inline" do %>
                  <i class="bi bi-trash fs-3 text-black"></i>
                <% end %>

              </div>

  </div>
</div>

        <% end %>
      </div>
    <% else %>
      <div class="d-flex align-items-center justify-content-center flex-grow-1">
        <p class="text-muted mb-0">You don't have any recipes yet.</p>
      </div>
    <% end %>
  </div>
<% end %>

<% right_content = capture do %>
  <div class="d-flex align-items-center justify-content-center flex-grow-1">
    <%= link_to "New Recipe", new_recipe_path,
        class: "btn btn-primary btn-lg",
        data: { turbo_prefetch: false },
        style: "padding: 1rem 2rem; font-size: 1.25rem;" %>
  </div>
<% end %>

<%= render "recipes/two_column_layout",
           left_content: left_content,
           right_content: nil %>
